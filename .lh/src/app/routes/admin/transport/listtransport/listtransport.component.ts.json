{
    "sourceFile": "src/app/routes/admin/transport/listtransport/listtransport.component.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1683386877682,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1683386920611,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,15 +74,10 @@\n \n \n   ngOnInit(): void {\n \n-    this.transportservice.read().subscribe(res => {\n-      this.transports = res;\n-      this.dataSource = new MatTableDataSource(this.transports);\n-this.dataSource.paginator=this.paginator;\n+  this.gettransport();\n \n-    });\n-\n   }\n   edit(value: any) {\n     const dialogRef = this.dialog.originalOpen(AdminTransportAddtransportComponent, {\n       width: '100%',\n@@ -97,10 +92,10 @@\n   }\n   delete(id:any)\n   {\n   this.transportservice.delete(id).subscribe()\n+this.gettransport();\n \n-\n  }\n gettransport(){\n   this.transportservice.read().subscribe(res=> {\n     this.transports = res;\n"
                },
                {
                    "date": 1683387152533,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,9 +91,9 @@\n \n   }\n   delete(id:any)\n   {\n-  this.transportservice.delete(id).subscribe()\n+  this.transportservice.delete(id).subscribe();\n this.gettransport();\n \n  }\n gettransport(){\n"
                },
                {
                    "date": 1683387235971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,9 +74,9 @@\n \n \n   ngOnInit(): void {\n \n-  this.gettransport();\n+  this.getlocal();\n \n   }\n   edit(value: any) {\n     const dialogRef = this.dialog.originalOpen(AdminTransportAddtransportComponent, {\n@@ -92,9 +92,9 @@\n   }\n   delete(id:any)\n   {\n   this.transportservice.delete(id).subscribe();\n-this.gettransport();\n+this.getlocal();\n \n  }\n gettransport(){\n   this.transportservice.read().subscribe(res=> {\n@@ -103,9 +103,17 @@\n \n   });\n \n }\n+getlocal(){\n+  this.transportservice.read().subscribe(res=>{\n+    this.transports=res;\n+    this.dataSource = new MatTableDataSource(this.transports);\n+this.dataSource.paginator = this.paginator;\n \n+  })\n+}\n+\n update(): void {\n   this.transportservice.update(this.transport).subscribe(() => {\n     this.transportservice.showMessage(\"Produto atualizado com sucesso!\");\n     this.router.navigate([\"/products\"]);\n"
                }
            ],
            "date": 1683386877682,
            "name": "Commit-0",
            "content": "import { AfterViewInit, Component, OnInit, ViewChild } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\n\nimport { TransportService } from '../transport.service';\nimport { Transport } from '../transport.model';\nimport { MtxGridColumn } from '@ng-matero/extensions/grid';\nimport { AdminAdresseAddadresseComponent } from '../../adresse/addadresse/addadresse.component';\nimport { AdminTransportAddtransportComponent } from '../addtransport/addtransport.component';\nimport { MtxDialog } from '@ng-matero/extensions/dialog';\nimport { Router } from '@angular/router';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\n\n@Component({\n  selector: 'app-admin-transport-listtransport',\n  templateUrl: './listtransport.component.html',\n  styleUrls: ['./listtransport.component.css']\n})\nexport class AdminTransportListtransportComponent implements OnInit  {\n\n  searchText='';\n  transports!: Transport[];\n  displayedColumns: string[] = ['id', 'matricule'];\n  dataSource = new MatTableDataSource<Transport>;\n\n  transport !: Transport;\n  @ViewChild(MatPaginator) paginator!: MatPaginator;\n\n\n  ngAfterViewInit() {\n    this.dataSource.paginator = this.paginator;\n  }\n\n  columns: MtxGridColumn[] = [\n    { header: 'id', field: 'id' },\n    { header: 'matricule', field: 'matricule' },\n\n    {\n      header: 'Operation',\n      field: 'operation',\n      width: '180px',\n      pinned: 'right',\n      right: '0px',\n      type: 'button',\n      buttons: [\n\n        {\n          type: 'icon',\n          text: 'edit',\n          icon: 'edit',\n          tooltip: 'Edit',\n          click: record => this.edit(record.id),\n        },\n        {\n          type: 'icon',\n          text: 'delete',\n          icon: 'delete',\n          tooltip: 'Delete',\n          color: 'warn',\n          pop: {\n            title: 'Confirm delete?',\n          },\n          click: (record: any) => {this.delete(record.id)},\n        },\n      ],\n    },\n  ];\n\n\n\n\n\n  constructor( private transportservice : TransportService,private dialogue:MatDialog, public dialog: MtxDialog ,private router : Router) { }\n\n\n  ngOnInit(): void {\n\n    this.transportservice.read().subscribe(res => {\n      this.transports = res;\n      this.dataSource = new MatTableDataSource(this.transports);\nthis.dataSource.paginator=this.paginator;\n\n    });\n\n  }\n  edit(value: any) {\n    const dialogRef = this.dialog.originalOpen(AdminTransportAddtransportComponent, {\n      width: '100%',\n      data: { record: value },\n    });\n\n    dialogRef.afterClosed().subscribe(() => console.log('The dialog was closed'));\n  }\n  editnew(){\n    this.router.navigate(['/admin/addtransport'])\n\n  }\n  delete(id:any)\n  {\n  this.transportservice.delete(id).subscribe()\n\n\n }\ngettransport(){\n  this.transportservice.read().subscribe(res=> {\n    this.transports = res;\n    this.dataSource = new MatTableDataSource(this.transports);\n\n  });\n\n}\n\nupdate(): void {\n  this.transportservice.update(this.transport).subscribe(() => {\n    this.transportservice.showMessage(\"Produto atualizado com sucesso!\");\n    this.router.navigate([\"/products\"]);\n  });\n}\nopenajout1(){\n  this.dialogue.open(AdminTransportAddtransportComponent,{\n    width:'70%',\n    exitAnimationDuration:'1000ms',\n    enterAnimationDuration:'1000ms',\n\n\n  })\n\n}\n}\n"
        }
    ]
}