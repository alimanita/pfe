{
    "sourceFile": "src/app/routes/chefagence/listcolischef/listcolischef.component.ts",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1683378263970,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1683378263970,
            "name": "Commit-0",
            "content": "import { Component, OnInit } from '@angular/core';\nimport { MatDialog } from '@angular/material/dialog';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { MtxGridColumn } from '@ng-matero/extensions/grid';\nimport { Destnateur } from 'app/routes/admin/destinateur/destinateur.model';\nimport { Expediteur } from 'app/routes/admin/expediteur/expediteur.model';\nimport { ClientAddcolisclientComponent } from 'app/routes/client/addcolisclient/addcolisclient.component';\nimport { Colis } from 'app/routes/client/colis.model';\nimport { ColisService } from 'app/routes/client/colis.service';\n\n@Component({\n  selector: 'app-chefagence-listcolischef',\n  templateUrl: './listcolischef.component.html',\n  styleUrls: ['./listcolischef.component.css']\n})\nexport class ChefagenceListcolischefComponent implements OnInit {\n public expidit = new Expediteur('','',0);\npublic searchName = '';\npublic  searchText='';\npublic listColis! : Colis[] ;\npublic dataSource : any;\npublic destinat = new Destnateur('','',0);\npublic isActiveUpdate:boolean = false;\npublic idToUpdate!: number\npublic colis = new Colis(0,0,'','',this.destinat ,this.expidit);\npublic iddestinateur !: number;\npublic idExpediteur!:number;\n\n  columns: MtxGridColumn[] = [\n    { header: 'id', field: 'id' },\n    { header: 'poids', field: 'poids' },\n    { header: 'prix', field: 'prix' },\n    { header: 'statut', field: 'statut' },\n    { header: 'dateEnlevement', field: 'dateEnlevement' },\n    { header: 'idDestinateur', field: 'destinateur.id' },\n\n    {\n      header: 'Operation',\n      field: 'operation',\n      width: '180px',\n      pinned: 'right',\n      right: '0px',\n      type: 'button',\n      buttons: [\n        {\n          type: 'icon',\n          text: 'Detail',\n          icon: 'info',\n          tooltip: 'Detail',\n          click: (record) => this.colisdetail(record.id)\n        },\n\n        {\n          type: 'icon',\n          text: 'edit',\n          icon: 'edit',\n          tooltip: 'Edit',\n         click: (record) => this.editnew(record.id)\n        },\n        {\n          type: 'icon',\n          text: 'delete',\n          icon: 'delete',\n          tooltip: 'Delete',\n          color: 'warn',\n          pop: {\n            title: 'Confirm delete?',\n          },\n          click: (record: any) => {this.delete(record.id)},\n        },\n      ],\n    },\n  ];\n  constructor( private colisservice : ColisService,private  activaterouter: ActivatedRoute,\n    private dialogue:MatDialog , private router : Router) { }\n\n  ngOnInit() {\n    this.redbyStatut('aenlever');\n  }\n\n  delete(id:any)\n  {\n  this.colisservice .delete(id).subscribe()\n\n\n }\n\n editnew(id :number){\n\n  this.router.navigate(['/admin/updateexpediteur',id])\n    }\n    colisdetail(id : number){\n      this.router.navigate(['/client/detailcolis',id]);\n\n\n    }\n    openajouteColis(){\n      this.dialogue.open(ClientAddcolisclientComponent,{\n        width:'100%',\n        exitAnimationDuration:'1000ms',\n        enterAnimationDuration:'1000ms',\n\n\n      })\n\n    }\n    redbyStatut(statut : string){\n      this.colisservice.readByStatut(statut).subscribe((res : Colis[]) =>{\n\n        this.listColis = res;\n        this.dataSource = new MatTableDataSource(this.listColis);\n\n        console.log(res);\n\n      })\n\n     }\n\n\n}\n"
        }
    ]
}